(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.StatsVR=e()})(this,function(){"use strict";var t=function(t,e){var n=document.createElement("canvas");n.width=64,n.height=64;var o=n.getContext("2d"),i=new THREE.Texture(n),f=new THREE.MeshBasicMaterial({map:i,depthTest:!1,transparent:!0}),l=new THREE.PlaneGeometry(1,1,1,1),a=new THREE.Mesh(l,f);a.position.x=0,a.position.y=1.5,a.position.z=-5;var r=new THREE.Object3D;r.add(a),t.add(r);var s=performance||Date,u=100,p=s.now(),c=0,d=new Array(32).fill(0),x=!1,h=s.now(),m=s.now(),y=new Array(32).fill(0),T=0,w=null,v=null,E=null;return{setX:function(t){a.position.x=t},setY:function(t){a.position.y=t},setZ:function(t){a.position.z=t},setCustom1:function(t){w=t},setCustom2:function(t){v=t},setCustom3:function(t){E=t},msStart:function(t){x=!0,h=s.now()},msEnd:function(t){m=s.now(),T=(100*(m-h)/100).toFixed(2)},update:function(){r.rotation.copy(e.rotation),r.position.setFromMatrixPosition(e.matrixWorld),i.needsUpdate=!0;var t=s.now(),f=t-p;if(c++,t>p+u){o.clearRect(0,0,n.width,n.height),p=t;var l=(1e3*c/f*100/100).toFixed(2);c=0,d.push(l),d.length>=32&&d.shift();var a=Math.max.apply(null,d);o.strokeStyle="#035363";for(var h=0;h<32;h++)o.beginPath(),o.moveTo(h,16),o.lineTo(h,16-d[h]/a*16),o.stroke();if(o.font="13px Calibri",o.fillStyle="#00cc00",o.fillText(l,1,13),x){y.push(T),y.length>=32&&y.shift(),a=Math.max.apply(null,y),o.strokeStyle="#f35363";for(var h=0;h<32;h++)o.beginPath(),o.moveTo(h+32,16),o.lineTo(h+32,16-y[h]/a*16),o.stroke();o.font="13px Calibri",o.fillStyle="#00ccff",o.fillText(T,33,13)}w&&(o.font="11px",o.fillStyle="#ffffff",o.fillText(w,0,29)),v&&(o.font="11px",o.fillStyle="#ffffff",o.fillText(v,0,45)),E&&(o.font="11px",o.fillStyle="#ffffff",o.fillText(E,0,61))}}}};return t});