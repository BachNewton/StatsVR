(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.StatsVR=e()})(this,function(){"use strict";var t=function(t,e){var n=document.createElement("canvas");n.width=64,n.height=64;var o=n.getContext("2d"),i=new THREE.Texture(n),f=new THREE.MeshBasicMaterial({map:i,depthTest:!1,transparent:!0}),l=new THREE.PlaneGeometry(1,1,1,1),a=new THREE.Mesh(l,f);a.position.x=0,a.position.y=1.5,a.position.z=-5;var r=new THREE.Object3D;r.add(a),t.add(r);var s=performance||Date,u=s.now(),p=0,c=new Array(32).fill(0),d=!1,x=s.now(),h=s.now(),m=new Array(32).fill(0),y=0,T=null,w=null,v=null;return{setX:function(t){a.position.x=t},setY:function(t){a.position.y=t},setZ:function(t){a.position.z=t},setCustom1:function(t){T=t},setCustom2:function(t){w=t},setCustom3:function(t){v=t},msStart:function(t){d=!0,x=s.now()},msEnd:function(t){h=s.now(),y=(100*(h-x)/100).toFixed(2)},update:function(){r.rotation.copy(e.rotation),r.position.setFromMatrixPosition(e.matrixWorld),i.needsUpdate=!0;var t=s.now(),f=t-u;if(p++,t>u+statsDisplayRefreshMS){o.clearRect(0,0,n.width,n.height),u=t;var l=(1e3*p/f*100/100).toFixed(2);p=0,c.push(l),c.length>=32&&c.shift();var a=Math.max.apply(null,c);o.strokeStyle="#035363";for(var x=0;x<32;x++)o.beginPath(),o.moveTo(x,16),o.lineTo(x,16-c[x]/a*16),o.stroke();if(o.font="13px Calibri",o.fillStyle="#00cc00",o.fillText(l,1,13),d){m.push(y),m.length>=32&&m.shift(),a=Math.max.apply(null,m),o.strokeStyle="#f35363";for(var x=0;x<32;x++)o.beginPath(),o.moveTo(x+32,16),o.lineTo(x+32,16-m[x]/a*16),o.stroke();o.font="13px Calibri",o.fillStyle="#00ccff",o.fillText(y,33,13)}T&&(o.font="11px",o.fillStyle="#ffffff",o.fillText(T,0,29)),w&&(o.font="11px",o.fillStyle="#ffffff",o.fillText(w,0,45)),v&&(o.font="11px",o.fillStyle="#ffffff",o.fillText(v,0,61))}}}};return t});